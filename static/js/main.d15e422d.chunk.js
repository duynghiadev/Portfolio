(this["webpackJsonpportfolio-app"]=this["webpackJsonpportfolio-app"]||[]).push([[0],{100:function(e,t,a){},125:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(17),r=a.n(s),i=(a(100),a(61)),l=a(72),o=a(53),j=a(33),d=a(1),b=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(o.a,{bg:"light",expand:"lg",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a.Brand,{href:"#home",children:"React-Bootstrap"}),Object(d.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(d.jsxs)(l.a,{className:"me-auto",children:[Object(d.jsx)(l.a.Link,{href:"#home",children:"Home"}),Object(d.jsx)(l.a.Link,{href:"#link",children:"Link"}),Object(d.jsxs)(j.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(d.jsx)(j.a.Item,{href:"#action/3.1",children:"Action"}),Object(d.jsx)(j.a.Item,{href:"#action/3.2",children:"Another action"}),Object(d.jsx)(j.a.Item,{href:"#action/3.3",children:"Something"}),Object(d.jsx)(j.a.Divider,{}),Object(d.jsx)(j.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})})},u=a(20),h=a(29),O=a(26),f=a(3),m=a(94),x=a(90),p=a.n(x).a.create({baseURL:"https://reqres.in"});p.interceptors.response.use((function(e){return e.data?e.data:{statusCode:e.status}}),(function(e){return Promise.reject(e)}));var v=p,g=function(e){return v.get("/api/users?page=".concat(e))},C=function(e,t){return v.post("/api/users",{name:e,job:t})},N=function(e,t,a){return v.put("/api/users/".concat(a),{name:e,job:t})},k=a(91),w=a.n(k),y=a(136),S=a(89),F=a(12),L=function(e){var t=e.show,a=e.handleClose,c=e.handleUpdateTable,s=Object(n.useState)(""),r=Object(f.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)(""),j=Object(f.a)(o,2),b=j[0],O=j[1],m=function(){var e=Object(h.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(i,b);case 2:(t=e.sent)&&t.id?(a(),l(),O(),F.b.success("A user is created succeed!"),c({first_name:i,id:t.id})):F.b.error("An error...");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(y.a,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(y.a.Header,{closeButton:!0,children:Object(d.jsx)(y.a.Title,{children:"Add new user"})}),Object(d.jsx)(y.a.Body,{children:Object(d.jsx)("div",{className:"body-add-new",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Job"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:b,onChange:function(e){return O(e.target.value)}})]})]})})}),Object(d.jsxs)(y.a.Footer,{children:[Object(d.jsx)(S.a,{variant:"secondary",onClick:a,children:"Close"}),Object(d.jsx)(S.a,{variant:"primary",onClick:function(){return m()},children:"Save Changes"})]})]})})},D=function(e){var t=e.show,a=e.handleClose,c=e.dataUserEdit,s=e.handleEditUserFromModal,r=Object(n.useState)(""),i=Object(f.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(""),b=Object(f.a)(j,2),O=b[0],m=b[1],x=function(){var e=Object(h.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(l,O);case 2:(t=e.sent)&&t.updatedAt&&(s({first_name:l,id:c.id}),a(),F.b.success("Update user succeed!"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&o(c.first_name)}),[c,t]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(y.a,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(y.a.Header,{closeButton:!0,children:Object(d.jsx)(y.a.Title,{children:"Edit a user"})}),Object(d.jsx)(y.a.Body,{children:Object(d.jsx)("div",{className:"body-add-new",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Job"}),Object(d.jsx)("input",{type:"text",className:"form-control",value:O,onChange:function(e){return m(e.target.value)}})]})]})})}),Object(d.jsxs)(y.a.Footer,{children:[Object(d.jsx)(S.a,{variant:"secondary",onClick:a,children:"Close"}),Object(d.jsx)(S.a,{variant:"primary",onClick:function(){return x()},children:"Confirm"})]})]})})},_=a(32),E=a.n(_),U=function(e){var t=e.show,a=e.handleClose,n=e.dataUserDelete,c=e.handleDeleteUserFromModal,s=function(){var e=Object(h.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s=n.id,v.delete("/api/users/".concat(s));case 2:(t=e.sent)&&204===+t.statusCode?(F.b.success("Delete user succeed!"),a(),c(n)):F.b.error("Error delete user");case 4:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(y.a,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(y.a.Header,{closeButton:!0,children:Object(d.jsx)(y.a.Title,{children:"Delete a user"})}),Object(d.jsx)(y.a.Body,{children:Object(d.jsxs)("div",{className:"body-add-new",children:["This action can't be undone! Do want to delete this user? ",Object(d.jsx)("br",{}),Object(d.jsxs)("b",{children:["email = ",n.email," ?"]})]})}),Object(d.jsxs)(y.a.Footer,{children:[Object(d.jsx)(S.a,{variant:"secondary",onClick:a,children:"Close"}),Object(d.jsx)(S.a,{variant:"primary",onClick:function(){return s()},children:"Confirm"})]})]})})},B=(a(125),a(92)),I=a(93),T=a.n(I),H=function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(0),i=Object(f.a)(r,2),l=(i[0],i[1]),o=Object(n.useState)(0),j=Object(f.a)(o,2),b=j[0],x=j[1],p=Object(n.useState)(!1),v=Object(f.a)(p,2),C=v[0],N=v[1],k=Object(n.useState)(!1),y=Object(f.a)(k,2),S=y[0],I=y[1],H=Object(n.useState)({}),A=Object(f.a)(H,2),M=A[0],P=A[1],J=Object(n.useState)(!1),V=Object(f.a)(J,2),R=V[0],W=V[1],q=Object(n.useState)({}),z=Object(f.a)(q,2),G=z[0],K=z[1],Q=Object(n.useState)("asc"),X=Object(f.a)(Q,2),Y=(X[0],X[1]),Z=Object(n.useState)("id"),$=Object(f.a)(Z,2),ee=($[0],$[1]),te=Object(n.useState)(""),ae=Object(f.a)(te,2),ne=(ae[0],ae[1],Object(n.useState)([])),ce=Object(f.a)(ne,2),se=ce[0],re=ce[1],ie=function(){N(!1),I(!1),W(!1)};Object(n.useEffect)((function(){le(1)}),[]);var le=function(){var e=Object(h.a)(Object(u.a)().mark((function e(t){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:(a=e.sent)&&a.data&&(l(a.total),s(a.data),x(a.total_pages));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e,t){Y(e),ee(t);var a=E.a.cloneDeep(c);a=E.a.orderBy(a,[t],[e]),ee(a)},je=Object(_.debounce)((function(e){var t=e.target.value;if(t){var a=E.a.cloneDeep(c);a=a.filter((function(e){return e.email.includes(t)})),s(a)}else le(1)}),500);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"my-3 add-new",children:[Object(d.jsx)("span",{children:Object(d.jsx)("b",{children:"List Users:"})}),Object(d.jsxs)("div",{className:"group-btns",children:[Object(d.jsxs)("label",{htmlFor:"test",className:"btn btn-warning",children:[Object(d.jsx)("i",{className:"fa-solid fa-file-import"})," Import"]}),Object(d.jsx)("input",{id:"test",type:"file",hidden:!0,onChange:function(e){return function(e){if(e.target&&e.target.files&&e.target.files[0]){var t=e.target.files[0];if("text/csv"!==t.type)return void F.b.error("Only accept csv file...");T.a.parse(t,{complete:function(e){var t=e.data;if(t.length>0)if(t[0]&&3===t[0].length)if("email"!==t[0][0]||"first_name"!==t[0][1]||"last_name"!==t[0][2])F.b.error("Wrong format Header CSV file");else{var a=[];t.map((function(e,t){if(t>0&&3===e.length){var n={};n.email=e[0],n.first_name=e[1],n.last_name=e[2],a.push(n)}})),s(a)}else F.b.error("Wrong fotmat CSV file");else F.b.error("Not found data on CSV file")}})}}(e)}}),Object(d.jsxs)(B.CSVLink,{filename:"users.csv",className:"btn btn-primary",data:se,asyncOnClick:!0,onClick:function(e,t){var a=[];c&&c.length>0&&(a.push(["Id","Email","First name","Last name"]),c.map((function(e,t){var n=[];n[0]=e.id,n[1]=e.email,n[2]=e.first_name,n[3]=e.last_name,a.push(n)})),re(a),t())},children:[Object(d.jsx)("i",{className:"fa-solid fa-file-arrow-down"})," Export"]}),Object(d.jsxs)("button",{className:"btn btn-success",onClick:function(){return N(!0)},children:[Object(d.jsx)("i",{className:"fa-solid fa-circle-plus"})," Add new"]})]})]}),Object(d.jsx)("div",{className:"col-4 my-3",children:Object(d.jsx)("input",{className:"form-control",placeholder:"Search user by mail...",onChange:function(e){return je(e)}})}),Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsxs)("div",{className:"sort-header",children:[Object(d.jsx)("span",{children:"ID"}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fa-solid fa-arrow-down-long",onClick:function(){return oe("desc","id")}}),Object(d.jsx)("i",{className:"fa-solid fa-arrow-up-long",onClick:function(){return oe("asc","id")}})]})]})}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:Object(d.jsxs)("div",{className:"sort-header",children:[Object(d.jsx)("span",{children:"First Name"}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fa-solid fa-arrow-down-long",onClick:function(){return oe("desc","first_name")}}),Object(d.jsx)("i",{className:"fa-solid fa-arrow-up-long",onClick:function(){return oe("asc","first_name")}})]})]})}),Object(d.jsx)("th",{children:"Last Name"}),Object(d.jsx)("th",{children:"Actions"})]})}),Object(d.jsx)("tbody",{children:c&&c.length>0&&c.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.first_name}),Object(d.jsx)("td",{children:e.last_name}),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{className:"btn btn-warning mx-3",onClick:function(){return P(e),void I(!0)},children:"Edit"}),Object(d.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e,W(!0),void K(t);var t},children:"Delete"})]})]},"users-".concat(t))}))})]}),Object(d.jsx)(w.a,{breakLabel:"...",nextLabel:"next >",onPageChange:function(e){le(+e.selected+1)},pageRangeDisplayed:5,pageCount:b,previousLabel:"< previous",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active"}),Object(d.jsx)(L,{show:C,handleClose:ie,handleUpdateTable:function(e){s([e].concat(Object(O.a)(c)))}}),Object(d.jsx)(D,{show:S,dataUserEdit:M,handleClose:ie,handleEditUserFromModal:function(e){var t=E.a.cloneDeep(c);t[c.findIndex((function(t){return t.id===e.id}))].first_name=e.first_name,s(t)}}),Object(d.jsx)(U,{show:R,handleClose:ie,dataUserDelete:G,handleDeleteUserFromModal:function(e){var t=E.a.cloneDeep(c);t=t.filter((function(t){return t.id!==e.id})),s(t)}})]})};var A=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"app-container",children:[Object(d.jsx)(b,{}),Object(d.jsx)(i.a,{children:Object(d.jsx)(H,{})})]}),Object(d.jsx)(F.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,137)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};a(129),a(130),a(131);r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(A,{})}),document.getElementById("root")),M()}},[[132,1,2]]]);
//# sourceMappingURL=main.d15e422d.chunk.js.map